[gd_scene load_steps=7 format=3 uid="uid://bbpfb2q6pn5ij"]

[ext_resource type="Script" path="res://script/enemy.gd" id="1_ssms2"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_madlt"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_oneou"]
size = Vector2(38, 59.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dnv53"]
size = Vector2(490.5, 72.5)

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_l6p7c"]
radius = 13.0
height = 54.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_rtky1"]
size = Vector2(101.957, 30)

[node name="Enemy" type="CharacterBody2D"]
material = SubResource("ShaderMaterial_madlt")
script = ExtResource("1_ssms2")

[node name="VisibleOnScreenEnabler2D" type="VisibleOnScreenEnabler2D" parent="."]
scale = Vector2(1.04228, 1.04228)
enable_node_path = NodePath("")

[node name="Healthbar" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_left = -27.0
offset_top = -38.0
offset_right = 28.0
offset_bottom = -30.0

[node name="ProgressBar" type="ProgressBar" parent="Healthbar"]
modulate = Color(0.952941, 0, 0, 1)
self_modulate = Color(0.952941, 0, 0, 1)
layout_mode = 1
anchors_preset = -1
anchor_left = -0.041
anchor_right = -0.041
offset_left = 9.255
offset_top = 1.0
offset_right = 50.255
offset_bottom = 6.0
value = 100.0
show_percentage = false

[node name="Detectors" type="Node2D" parent="."]

[node name="sword" type="Area2D" parent="Detectors"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Detectors/sword"]
position = Vector2(30, 0)
shape = SubResource("RectangleShape2D_oneou")
disabled = true
debug_color = Color(1, 0.00784314, 0.054902, 0.419608)

[node name="playerDetector" type="Area2D" parent="Detectors"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Detectors/playerDetector"]
shape = SubResource("RectangleShape2D_dnv53")

[node name="hitbox" type="Area2D" parent="Detectors"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Detectors/hitbox"]
shape = SubResource("CapsuleShape2D_l6p7c")

[node name="attackRange" type="Area2D" parent="Detectors"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Detectors/attackRange"]
position = Vector2(0.0214844, 0)
shape = SubResource("RectangleShape2D_rtky1")
debug_color = Color(0.764706, 0.168627, 1, 0.419608)

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CapsuleShape2D_l6p7c")
debug_color = Color(0.627451, 0, 0.109804, 0.419608)

[connection signal="screen_exited" from="VisibleOnScreenEnabler2D" to="." method="_on_visible_on_screen_enabler_2d_screen_exited"]
[connection signal="body_entered" from="Detectors/playerDetector" to="." method="_on_area_2d_body_entered"]
[connection signal="body_exited" from="Detectors/playerDetector" to="." method="_on_area_2d_body_exited"]
[connection signal="area_entered" from="Detectors/hitbox" to="." method="_on_hitbox_area_entered"]
[connection signal="area_exited" from="Detectors/hitbox" to="." method="_on_hitbox_area_exited"]
[connection signal="body_entered" from="Detectors/attackRange" to="." method="_on_attack_range_body_entered"]
[connection signal="body_exited" from="Detectors/attackRange" to="." method="_on_attack_range_body_exited"]
