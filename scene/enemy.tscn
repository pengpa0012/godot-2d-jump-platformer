[gd_scene load_steps=30 format=3 uid="uid://bbpfb2q6pn5ij"]

[ext_resource type="Script" path="res://script/enemy.gd" id="1_ssms2"]
[ext_resource type="Texture2D" uid="uid://cjfuta6gc1752" path="res://assets/enemy/Idle/Zombie_idle1.png" id="2_7v28s"]
[ext_resource type="Texture2D" uid="uid://ctgj6mt6pq2xx" path="res://assets/enemy/hurt/Zombie_Hurt1.png" id="2_b0l5k"]
[ext_resource type="Texture2D" uid="uid://btf31vgplfpti" path="res://assets/enemy/hurt/Zombie_Hurt2.png" id="3_12rng"]
[ext_resource type="Texture2D" uid="uid://dypjrt88t8bbc" path="res://assets/enemy/Idle/Zombie_idle2.png" id="3_f8mjd"]
[ext_resource type="Texture2D" uid="uid://bbcpyue3g7mbw" path="res://assets/enemy/hurt/Zombie_Hurt3.png" id="4_6mrv8"]
[ext_resource type="Texture2D" uid="uid://bv0sw2fvp1b33" path="res://assets/enemy/Idle/Zombie_idle3.png" id="4_cc7ls"]
[ext_resource type="Texture2D" uid="uid://cvph2hvr5hd74" path="res://assets/enemy/hurt/Zombie_Hurt4.png" id="5_m344k"]
[ext_resource type="Texture2D" uid="uid://ch0gcilo6muqr" path="res://assets/enemy/Idle/Zombie_idle4.png" id="5_uxdo2"]
[ext_resource type="Texture2D" uid="uid://7vfnbs0sx510" path="res://assets/enemy/Idle/Zombie_idle5.png" id="6_16s4w"]
[ext_resource type="Texture2D" uid="uid://dj2ihwxa66jct" path="res://assets/enemy/Idle/Zombie_idle6.png" id="7_hsov1"]
[ext_resource type="Texture2D" uid="uid://b4sidwh6ywnwf" path="res://assets/enemy/Idle/Zombie_idle7.png" id="8_d41jm"]
[ext_resource type="Texture2D" uid="uid://c650s3uva5pur" path="res://assets/enemy/Idle/Zombie_idle8.png" id="9_hnqga"]
[ext_resource type="Texture2D" uid="uid://sl2ysuixtix7" path="res://assets/enemy/Idle/Zombie_idle9.png" id="10_3w7mw"]
[ext_resource type="Texture2D" uid="uid://cvhn8sgvy73ak" path="res://assets/enemy/Idle/Zombie_idle10.png" id="11_4xya2"]
[ext_resource type="Texture2D" uid="uid://btjadjdf4bf74" path="res://assets/enemy/walk/Zombie_Walk1.png" id="16_u7wrl"]
[ext_resource type="Texture2D" uid="uid://pukd7g2lofro" path="res://assets/enemy/walk/Zombie_Walk2.png" id="17_fdo10"]
[ext_resource type="Texture2D" uid="uid://bc56ym76tp8ag" path="res://assets/enemy/walk/Zombie_Walk3.png" id="18_i4h45"]
[ext_resource type="Texture2D" uid="uid://v5mc1ojysawj" path="res://assets/enemy/walk/Zombie_Walk4.png" id="19_u50kn"]
[ext_resource type="Texture2D" uid="uid://djhxo3upya2n0" path="res://assets/enemy/walk/Zombie_Walk5.png" id="20_dbdi6"]
[ext_resource type="Texture2D" uid="uid://v8mmpqrs7rii" path="res://assets/enemy/walk/Zombie_Walk6.png" id="21_c80lq"]
[ext_resource type="Texture2D" uid="uid://bgmegsgj63me7" path="res://assets/enemy/walk/Zombie_Walk7.png" id="22_c74nr"]
[ext_resource type="Texture2D" uid="uid://btpmiokhpfnub" path="res://assets/enemy/walk/Zombie_Walk8.png" id="23_6l0q6"]
[ext_resource type="Texture2D" uid="uid://banmhhrrj433n" path="res://assets/enemy/walk/Zombie_Walk9.png" id="24_ohx81"]
[ext_resource type="Texture2D" uid="uid://57x82mcyocnw" path="res://assets/enemy/walk/Zombie_Walk10.png" id="25_jehnv"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_madlt"]

[sub_resource type="SpriteFrames" id="SpriteFrames_15r23"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_b0l5k")
}, {
"duration": 1.0,
"texture": ExtResource("3_12rng")
}, {
"duration": 1.0,
"texture": ExtResource("4_6mrv8")
}, {
"duration": 1.0,
"texture": ExtResource("5_m344k")
}],
"loop": false,
"name": &"Hurt",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_7v28s")
}, {
"duration": 1.0,
"texture": ExtResource("3_f8mjd")
}, {
"duration": 1.0,
"texture": ExtResource("4_cc7ls")
}, {
"duration": 1.0,
"texture": ExtResource("5_uxdo2")
}, {
"duration": 1.0,
"texture": ExtResource("6_16s4w")
}, {
"duration": 1.0,
"texture": ExtResource("7_hsov1")
}, {
"duration": 1.0,
"texture": ExtResource("8_d41jm")
}, {
"duration": 1.0,
"texture": ExtResource("9_hnqga")
}, {
"duration": 1.0,
"texture": ExtResource("10_3w7mw")
}, {
"duration": 1.0,
"texture": ExtResource("11_4xya2")
}],
"loop": true,
"name": &"Idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("16_u7wrl")
}, {
"duration": 1.0,
"texture": ExtResource("17_fdo10")
}, {
"duration": 1.0,
"texture": ExtResource("18_i4h45")
}, {
"duration": 1.0,
"texture": ExtResource("19_u50kn")
}, {
"duration": 1.0,
"texture": ExtResource("20_dbdi6")
}, {
"duration": 1.0,
"texture": ExtResource("21_c80lq")
}, {
"duration": 1.0,
"texture": ExtResource("22_c74nr")
}, {
"duration": 1.0,
"texture": ExtResource("23_6l0q6")
}, {
"duration": 1.0,
"texture": ExtResource("24_ohx81")
}, {
"duration": 1.0,
"texture": ExtResource("25_jehnv")
}],
"loop": true,
"name": &"Walk",
"speed": 10.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_l6p7c"]
radius = 13.0
height = 54.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dnv53"]
size = Vector2(490.5, 72.5)

[node name="Enemy" type="CharacterBody2D"]
material = SubResource("ShaderMaterial_madlt")
script = ExtResource("1_ssms2")

[node name="VisibleOnScreenEnabler2D" type="VisibleOnScreenEnabler2D" parent="."]
scale = Vector2(1.04228, 1.04228)
enable_node_path = NodePath("../AnimatedSprite2D")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
use_parent_material = true
scale = Vector2(1.04228, 1.04228)
sprite_frames = SubResource("SpriteFrames_15r23")
animation = &"Hurt"
frame = 1

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CapsuleShape2D_l6p7c")

[node name="hitbox" type="Area2D" parent="."]
visible = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="hitbox"]
shape = SubResource("CapsuleShape2D_l6p7c")

[node name="playerDetector" type="Area2D" parent="."]
visible = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="playerDetector"]
shape = SubResource("RectangleShape2D_dnv53")

[node name="Healthbar" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_left = -27.0
offset_top = -38.0
offset_right = 28.0
offset_bottom = -30.0

[node name="ProgressBar" type="ProgressBar" parent="Healthbar"]
modulate = Color(0.952941, 0, 0, 1)
self_modulate = Color(0.952941, 0, 0, 1)
layout_mode = 1
anchors_preset = -1
anchor_left = -0.041
anchor_right = -0.041
offset_left = 9.255
offset_top = 1.0
offset_right = 50.255
offset_bottom = 6.0
value = 100.0
show_percentage = false

[connection signal="screen_exited" from="VisibleOnScreenEnabler2D" to="." method="_on_visible_on_screen_enabler_2d_screen_exited"]
[connection signal="area_entered" from="hitbox" to="." method="_on_hitbox_area_entered"]
[connection signal="area_exited" from="hitbox" to="." method="_on_hitbox_area_exited"]
[connection signal="body_entered" from="hitbox" to="." method="_on_hitbox_body_entered"]
[connection signal="body_entered" from="playerDetector" to="." method="_on_area_2d_body_entered"]
[connection signal="body_exited" from="playerDetector" to="." method="_on_area_2d_body_exited"]
